var cy; $(function(){ cy = cytoscape({container: document.getElementById('cy'),style: [{"selector":"core","style":{"selection-box-color":"#AAD8FF","selection-box-border-color":"#8BB0D0","selection-box-opacity":"0.5"}},{"selector":"node","style":{"width":"mapData(btwn, 0, 0.082871, 20, 60)","height":"mapData(btwn, 0, 0.082871, 20, 60)","content":"data(name)","font-size":"12px","text-valign":"center","text-halign":"center","background-color":"#ccc","border-color":"data(nodeEdgeColor)","border-width":4,"border-opacity":"data(ratio)","text-outline-color":"#ccc","text-outline-width":"2px","color":"#000","overlay-padding":"6px","z-index":"10"}},{"selector":"edge:selected","style":{"curve-style":"haystack","haystack-radius":"0.5","opacity":"1.0","line-color":"#FFFFFF","line-style":"solid","width":"mapData(weight, 0, 1, 1, 8)","overlay-padding":"3px"}},{"selector":"node:selected","style":{"border-width":"6px","border-color":"#AAD8FF","border-opacity":"0.5","background-color":"#77828C","text-outline-color":"#77828C"}},{"selector":"edge","style":{"curve-style":"haystack","haystack-radius":"0.5","opacity":"0.4","line-color":"data(edgeColor)","line-style":"data(edgeType)","width":"mapData(weight, 0, 1, 1, 8)","overlay-padding":"3px"}},{"selector":"node.unhighlighted","style":{"opacity":"0.2"}},{"selector":"edge.unhighlighted","style":{"opacity":"0.0"}},{"selector":".highlighted","style":{"z-index":"999999"}},{"selector":"node.highlighted","style":{"border-width":"6px","border-color":"#AAD8FF","border-opacity":"0.5","background-color":"#394855","text-outline-color":"#394855","shadow-blur":"12px","shadow-color":"#000","shadow-opacity":"0.8","shadow-offset-x":"0px","shadow-offset-y":"4px"}},{"selector":"edge.filtered","style":{"opacity":"0"}},{"selector":"node.filtered_nonproneural","style":{"width":"mapData(btwn_nonproneural, 0, 0.273149, 20, 60)","height":"mapData(btwn_nonproneural, 0, 0.273149, 20, 60)","content":"data(name)","font-size":"10px","text-valign":"center","text-halign":"center","background-color":"#daa","border-color":"pink","border-width":0,"border-opacity":0,"text-outline-color":"#daa","text-outline-width":"0px","color":"#000","overlay-padding":"6px","z-index":"10","pie-size":"80%","pie-1-background-color":"#E8747C","pie-1-background-size":"mapData(exprone_nonproneural, 0, 1, 0, 100)","pie-2-background-color":"#BBBBBB","pie-2-background-size":"mapData(exprzero_nonproneural, 0, 1, 0, 100)","pie-3-background-color":"#74E883","pie-3-background-size":"mapData(exprnegone_nonproneural, 0, 1, 0, 100)"}},{"selector":"node.filtered_proneural","style":{"width":"mapData(btwn_nonproneural, 0, 0.273149, 20, 60)","height":"mapData(btwn_nonproneural, 0, 0.273149, 20, 60)","content":"data(name)","font-size":"10px","text-valign":"center","text-halign":"center","background-color":"#aad","border-color":"pink","border-width":0,"border-opacity":0,"text-outline-color":"#aad","text-outline-width":"0px","color":"#000","overlay-padding":"6px","z-index":"10","pie-size":"80%","pie-1-background-color":"#E8747C","pie-1-background-size":"mapData(exprone_proneural, 0, 1, 0, 100)","pie-2-background-color":"#BBBBBB","pie-2-background-size":"mapData(exprzero_proneural, 0, 1, 0, 100)","pie-3-background-color":"#74E883","pie-3-background-size":"mapData(exprnegone_proneural, 0, 1, 0, 100)"}},{"selector":"node.filtered_","style":{"width":"mapData(btwn_, 0, 0.082871, 20, 60)","height":"mapData(btwn_, 0, 0.082871, 20, 60)","content":"data(name)","font-size":"10px","text-valign":"center","text-halign":"center","background-color":"#ccc","border-color":"pink","border-width":0,"border-opacity":0,"text-outline-color":"#ccc","text-outline-width":"0px","color":"#000","overlay-padding":"6px","z-index":"10"}}],elements: [
{"data":{ "id": "C9","idInt":0, "name":"C9","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"blue","ratio":0.6,"exprone_nonproneural":0.05517241379310345,"exprzero_nonproneural":0.503448275862069,"exprnegone_nonproneural":0.4413793103448276,"exprone_proneural":0.03508771929824561,"exprzero_proneural":0.45614035087719296,"exprnegone_proneural":0.5087719298245614},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C2","idInt":0, "name":"C2","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"blue","ratio":0.6,"exprone_nonproneural":0.8344827586206897,"exprzero_nonproneural":0.15862068965517243,"exprnegone_nonproneural":0.006896551724137931,"exprone_proneural":0.6140350877192983,"exprzero_proneural":0.3684210526315789,"exprnegone_proneural":0.017543859649122806},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C1S","idInt":0, "name":"C1S","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.2,"exprone_nonproneural":0.8413793103448276,"exprzero_nonproneural":0.13793103448275862,"exprnegone_nonproneural":0.020689655172413793,"exprone_proneural":0.42105263157894735,"exprzero_proneural":0.3333333333333333,"exprnegone_proneural":0.24561403508771928},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C6","idInt":0, "name":"C6","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.6,"exprone_nonproneural":0.296551724137931,"exprzero_nonproneural":0.5724137931034483,"exprnegone_nonproneural":0.1310344827586207,"exprone_proneural":0.14035087719298245,"exprzero_proneural":0.6842105263157895,"exprnegone_proneural":0.17543859649122806},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C3","idInt":0, "name":"C3","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.6,"exprone_nonproneural":0.7172413793103448,"exprzero_nonproneural":0.25517241379310346,"exprnegone_nonproneural":0.027586206896551724,"exprone_proneural":0.38596491228070173,"exprzero_proneural":0.49122807017543857,"exprnegone_proneural":0.12280701754385964},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C5","idInt":0, "name":"C5","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":1.0,"exprone_nonproneural":0.7517241379310344,"exprzero_nonproneural":0.15172413793103448,"exprnegone_nonproneural":0.09655172413793103,"exprone_proneural":0.7192982456140351,"exprzero_proneural":0.17543859649122806,"exprnegone_proneural":0.10526315789473684},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C1QB","idInt":0, "name":"C1QB","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.2,"exprone_nonproneural":0.7034482758620689,"exprzero_nonproneural":0.296551724137931,"exprnegone_nonproneural":0.0,"exprone_proneural":0.47368421052631576,"exprzero_proneural":0.5263157894736842,"exprnegone_proneural":0.0},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C1QA","idInt":0, "name":"C1QA","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.42857142857142855,"exprone_nonproneural":0.503448275862069,"exprzero_nonproneural":0.496551724137931,"exprnegone_nonproneural":0.0,"exprone_proneural":0.3508771929824561,"exprzero_proneural":0.6491228070175439,"exprnegone_proneural":0.0},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C1QC","idInt":0, "name":"C1QC","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.42857142857142855,"exprone_nonproneural":0.6896551724137931,"exprzero_nonproneural":0.3103448275862069,"exprnegone_nonproneural":0.0,"exprone_proneural":0.47368421052631576,"exprzero_proneural":0.5263157894736842,"exprnegone_proneural":0.0},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C8A","idInt":0, "name":"C8A","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.3333333333333333,"exprone_nonproneural":0.12413793103448276,"exprzero_nonproneural":0.6689655172413793,"exprnegone_nonproneural":0.20689655172413793,"exprone_proneural":0.08771929824561403,"exprzero_proneural":0.7894736842105263,"exprnegone_proneural":0.12280701754385964},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{ "id": "C7","idInt":0, "name":"C7","btwn":0.000,"btwn_nonproneural":0.000,"btwn_proneural":0.000,"query":true,"gene":true,"nodeEdgeColor":"grey","ratio":0.42857142857142855,"exprone_nonproneural":0.2,"exprzero_nonproneural":0.593103448275862,"exprnegone_nonproneural":0.20689655172413793,"exprone_proneural":0.05263157894736842,"exprzero_proneural":0.5614035087719298,"exprnegone_proneural":0.38596491228070173},"position":{},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C9","target":"C2","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C9C2"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C9","target":"C1QB","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C9C1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C9","target":"C1QC","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C9C1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C9","target":"C8A","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C9C8A"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C9","target":"C7","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C9C7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C2","target":"C1S","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C2C1S"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C2","target":"C3","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C2C3"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C2","target":"C1QB","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C2C1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C2","target":"C1QA","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C2C1QA"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C2","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C2C1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1S","target":"C3","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1SC3"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1S","target":"C1QB","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1SC1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1S","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1SC1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1S","target":"C7","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1SC7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C6","target":"C1QB","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C6C1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C6","target":"C1QA","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C6C1QA"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C6","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C6C1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C6","target":"C8A","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C6C8A"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C6","target":"C7","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C6C7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C3","target":"C1QB","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C3C1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C3","target":"C1QA","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C3C1QA"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C3","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C3C1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C5","target":"C1QB","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C5C1QB"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C5","target":"C1QC","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C5C1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C5","target":"C7","weight":0.25,"edgeColor": "blue","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C5C7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QB","target":"C1QA","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QBC1QA"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QB","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QBC1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QB","target":"C8A","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QBC8A"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QB","target":"C7","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QBC7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QA","target":"C1QC","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QAC1QC"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QA","target":"C8A","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QAC8A"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QA","target":"C7","weight":0.25,"edgeColor": "red","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QAC7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C1QC","target":"C8A","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C1QCC8A"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
,{"data":{"source":"C8A","target":"C7","weight":0.25,"edgeColor": "grey","edgeType": "dashed" ,"networkId":1133,"networkGroupId":18,"intn":true,"rIntnId":4,"id":"C8AC7"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbed":false,"grabbable":true,"classes":""}
]});
var params = { name: 'cola', nodeSpacing: 10, edgeLengthVal: 35, animate: true, randomize: false, maxSimulationTime: 1500, splitFlag: false, toggle: true }; var layout = makeLayout(); var running = false; cy.on('layoutstart', function(){ running = true; }).on('layoutstop', function(){ running = false; }); layout.run(); var $config = $('#config'); var $btnParam = $('<div class="param"></div>'); $config.append( $btnParam ); var sliders = [ { label: 'Edge length', param: 'edgeLengthVal', min: 1, max: 200 }, { label: 'Node spacing', param: 'nodeSpacing', min: 1, max: 50 } ]; var buttons = [ { label: '<i class="fa fa-random"></i>', layoutOpts: { randomize: true, flow: null }, param: 'Randomize network' }, { label: '<i>CDN</i>', layoutOpts: {splitparam:true}, param: 'Condition-specific dependency network' }, { label: '<i>DDN</i>', layoutOpts: {splitparam:false}, param: 'Differential dependency network' } ]; sliders.forEach( makeSlider ); buttons.forEach( makeButton ); function makeLayout( opts ){ params.randomize = false; params.edgeLength = function(e){ return params.edgeLengthVal / e.data('weight'); }; for( var i in opts ){ params[i] = opts[i]; } return cy.makeLayout( params ); } function makeSlider( opts ){ var $input = $('<input></input>'); var $param = $('<div class="param"></div>'); $param.append('<span class="label label-default">'+ opts.label +'</span>'); $param.append( $input ); $config.append( $param ); var p = $input.slider({ min: opts.min, max: opts.max, value: params[ opts.param ] }).on('slide', _.throttle( function(){ params[ opts.param ] = p.getValue(); layout.stop(); layout = makeLayout(); layout.run(); }, 16 ) ).data('slider'); } function makeButton( opts ){ var elnodes = cy.$('node[idInt=0]'); var eledges_nonproneural = cy.$('edge[edgeColor="red"],edge[edgeColor="grey"]'); var eledges_proneural = cy.$('edge[edgeColor="blue"],edge[edgeColor="grey"]'); var $button = $('<button class="btn btn-default" title="' + opts.param + '">'+ opts.label +'</button>'); $btnParam.append( $button ); $button.on('click', function(){ layout.stop(); if (opts.layoutOpts.splitparam) { params.splitFlag=true; params.toggle=!params.toggle; } else { if (!opts.layoutOpts.randomize) { params.splitFlag=false; } } if (params.splitFlag) { if (params.toggle) { elnodes.removeClass('filtered_nonproneural').addClass('filtered_proneural');
eledges_nonproneural.removeClass('highlighted').addClass('unhighlighted'); eledges_proneural.removeClass('unhighlighted').addClass('highlighted'); } else { elnodes.removeClass('filtered_proneural').addClass('filtered_nonproneural'); eledges_proneural.removeClass('highlighted').addClass('unhighlighted'); eledges_nonproneural.removeClass('unhighlighted').addClass('highlighted'); } } else { elnodes.removeClass('filtered_nonproneural').addClass('core'); elnodes.removeClass('filtered_proneural').addClass('core'); eledges_proneural.removeClass('unhighlighted').addClass('highlighted'); eledges_nonproneural.removeClass('unhighlighted').addClass('highlighted'); } if( opts.fn ){ opts.fn(); } layout = makeLayout( opts.layoutOpts ); layout.run(); }); } cy.edges().forEach(function(n){ var g1 = n.data('source'); var g2 = n.data('target'); n.qtip({ content: [ { name: 'Gene 1 '+ g1 + ' Gene 2 ' + g2 } ].map(function( link ){ return link.name; }).join(''), position: { my: 'top center', at: 'bottom center' }, style: { classes: 'qtip-bootstrap', tip: { width: 16, height: 4 } } }); }); cy.nodes().forEach(function(n){ var g = n.data('name'); n.qtip({ content: [ { 
 name: 'GeneCard<br></br>', 
 url: 'http://www.genecards.org/cgi-bin/carddisp.pl?gene=' + g }, { 
name: 'nonproneural mutation data<br></br>', 
url: 'http://www.cbioportal.org' }, { 
name: 'proneural mutation data', 
url: 'http://www.cbioportal.org' } ].map(function( link ){ return '<a target="_blank" href="' + link.url + '">' + link.name + '</a>'; }).join(''), position: { my: 'top center', at: 'bottom center' }, style: { classes: 'qtip-bootstrap', tip: { width: 16, height: 8 } } }); }); }); // on dom ready 
$(function() { FastClick.attach( document.body ); });
